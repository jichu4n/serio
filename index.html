<!DOCTYPE html><html class="default" lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>serio</title><meta name="description" content="Documentation for serio"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script async src="assets/search.js" id="search-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os"</script><header class="tsd-page-toolbar">
<div class="tsd-toolbar-contents container">
<div class="table-cell" id="tsd-search" data-base=".">
<div class="field"><label for="tsd-search-field" class="tsd-widget tsd-toolbar-icon search no-caption"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><path d="M15.7824 13.833L12.6666 10.7177C12.5259 10.5771 12.3353 10.499 12.1353 10.499H11.6259C12.4884 9.39596 13.001 8.00859 13.001 6.49937C13.001 2.90909 10.0914 0 6.50048 0C2.90959 0 0 2.90909 0 6.49937C0 10.0896 2.90959 12.9987 6.50048 12.9987C8.00996 12.9987 9.39756 12.4863 10.5008 11.6239V12.1332C10.5008 12.3332 10.5789 12.5238 10.7195 12.6644L13.8354 15.7797C14.1292 16.0734 14.6042 16.0734 14.8948 15.7797L15.7793 14.8954C16.0731 14.6017 16.0731 14.1267 15.7824 13.833ZM6.50048 10.499C4.29094 10.499 2.50018 8.71165 2.50018 6.49937C2.50018 4.29021 4.28781 2.49976 6.50048 2.49976C8.71001 2.49976 10.5008 4.28708 10.5008 6.49937C10.5008 8.70852 8.71314 10.499 6.50048 10.499Z" fill="var(--color-text)"></path></svg></label><input type="text" id="tsd-search-field" aria-label="Search"/></div>
<div class="field">
<div id="tsd-toolbar-links"></div></div>
<ul class="results">
<li class="state loading">Preparing search index...</li>
<li class="state failure">The search index is not available</li></ul><a href="index.html" class="title">serio</a></div>
<div class="table-cell" id="tsd-widgets"><a href="#" class="tsd-widget tsd-toolbar-icon menu no-caption" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><rect x="1" y="3" width="14" height="2" fill="var(--color-text)"></rect><rect x="1" y="7" width="14" height="2" fill="var(--color-text)"></rect><rect x="1" y="11" width="14" height="2" fill="var(--color-text)"></rect></svg></a></div></div></header>
<div class="container container-main">
<div class="col-8 col-content">
<div class="tsd-page-title">
<h2>serio</h2></div>
<div class="tsd-panel tsd-typography">
<a href="#serio" id="serio" style="color: inherit; text-decoration: none;">
  <h1>serio</h1>
</a>
<p>Fluent binary serialization / deserialization in TypeScript.</p>
<p>If you need to work with binary protocols and file formats, or manipulate C/C++
<code>struct</code>s and arrays from TypeScript, this library is for you. It provides an
ergonomic object-oriented framework for defining TypeScript classes that can
serialize and deserialize to binary formats.</p>

<a href="#quickstart" id="quickstart" style="color: inherit; text-decoration: none;">
  <h2>Quickstart</h2>
</a>

<a href="#installation" id="installation" style="color: inherit; text-decoration: none;">
  <h3>Installation</h3>
</a>
<pre><code><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-0">install</span><span class="hl-1"> --</span><span class="hl-0">save</span><span class="hl-1"> </span><span class="hl-0">serio</span>
</code></pre>
<p>Requirements:</p>
<ol>
<li>TypeScript 5.0 or higher;</li>
<li>The <code>experimentalDecorators</code> setting should NOT be enabled in <code>tsconfig.json</code>.</li>
</ol>

<a href="#basic-usage" id="basic-usage" style="color: inherit; text-decoration: none;">
  <h3>Basic usage</h3>
</a>
<pre><code class="language-ts"><span class="hl-2">import</span><span class="hl-1"> {</span><span class="hl-0">SObject</span><span class="hl-1">, </span><span class="hl-0">SUInt32LE</span><span class="hl-1">, </span><span class="hl-0">field</span><span class="hl-1">} </span><span class="hl-2">from</span><span class="hl-1"> </span><span class="hl-0">serio</span><span class="hl-1">;</span><br/><br/><span class="hl-3">/** An object that maps to the following C struct:</span><br/><span class="hl-3"> *</span><br/><span class="hl-3"> *     struct Position {</span><br/><span class="hl-3"> *         uint32_t x;</span><br/><span class="hl-3"> *         uint32_t y;</span><br/><span class="hl-3"> *     };</span><br/><span class="hl-3"> */</span><br/><span class="hl-4">class</span><span class="hl-1"> </span><span class="hl-5">Position</span><span class="hl-1"> </span><span class="hl-4">extends</span><span class="hl-1"> </span><span class="hl-5">SObject</span><span class="hl-1"> {</span><br/><span class="hl-1">  @</span><span class="hl-6">field</span><span class="hl-1">(</span><span class="hl-0">SUInt32LE</span><span class="hl-1">)</span><br/><span class="hl-1">  </span><span class="hl-0">x</span><span class="hl-1"> = </span><span class="hl-7">0</span><span class="hl-1">;</span><br/><span class="hl-1">  @</span><span class="hl-6">field</span><span class="hl-1">(</span><span class="hl-0">SUInt32LE</span><span class="hl-1">)</span><br/><span class="hl-1">  </span><span class="hl-0">y</span><span class="hl-1"> = </span><span class="hl-7">0</span><span class="hl-1">;</span><br/><br/><span class="hl-1">  </span><span class="hl-3">// Properties without the @field() decorator are ignored during serialization</span><br/><span class="hl-1">  </span><span class="hl-3">// and deserialization.</span><br/><span class="hl-1">  </span><span class="hl-0">foo</span><span class="hl-1"> = </span><span class="hl-7">100</span><span class="hl-1">;</span><br/><span class="hl-1">}</span><br/><br/><br/><span class="hl-3">// Create instance with default values:</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-8">pos1</span><span class="hl-1"> = </span><span class="hl-4">new</span><span class="hl-1"> </span><span class="hl-6">Position</span><span class="hl-1">();</span><br/><span class="hl-3">// ...or with a set of initial values (can be partial):</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-8">pos2</span><span class="hl-1"> = </span><span class="hl-0">Position</span><span class="hl-1">.</span><span class="hl-6">with</span><span class="hl-1">({</span><span class="hl-0">x:</span><span class="hl-1"> </span><span class="hl-7">5</span><span class="hl-1">, </span><span class="hl-0">y:</span><span class="hl-1"> </span><span class="hl-7">0</span><span class="hl-1">});</span><br/><span class="hl-3">// ...or by deserializing from an existing Buffer:</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-8">pos3</span><span class="hl-1"> = </span><span class="hl-0">Position</span><span class="hl-1">.</span><span class="hl-6">from</span><span class="hl-1">(</span><span class="hl-0">buffer</span><span class="hl-1">.</span><span class="hl-6">subarray</span><span class="hl-1">(...));</span><br/><br/><br/><span class="hl-3">// Fields can be manipulated normally:</span><br/><span class="hl-0">pos1</span><span class="hl-1">.</span><span class="hl-0">x</span><span class="hl-1"> = </span><span class="hl-7">5</span><span class="hl-1">;</span><br/><span class="hl-0">pos1</span><span class="hl-1">.</span><span class="hl-0">y</span><span class="hl-1"> = </span><span class="hl-0">pos1</span><span class="hl-1">.</span><span class="hl-0">x</span><span class="hl-1"> + </span><span class="hl-7">10</span><span class="hl-1">;</span><br/><br/><br/><span class="hl-3">// Serialize to Buffer:</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-8">buf</span><span class="hl-1"> = </span><span class="hl-0">pos1</span><span class="hl-1">.</span><span class="hl-6">serialize</span><span class="hl-1">(); </span><span class="hl-3">// =&gt; Buffer</span><br/><span class="hl-3">// Get the byte size of the instance&#39;s serialized form:</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-8">size</span><span class="hl-1"> = </span><span class="hl-0">pos1</span><span class="hl-1">.</span><span class="hl-6">getSerializedLength</span><span class="hl-1">();  </span><span class="hl-3">// =&gt; 8</span><br/><span class="hl-3">// Deserialize into an existing instance, returning number of bytes red</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-8">bytesRead</span><span class="hl-1"> = </span><span class="hl-0">pos1</span><span class="hl-1">.</span><span class="hl-6">deserialize</span><span class="hl-1">(</span><span class="hl-0">buffer</span><span class="hl-1">.</span><span class="hl-6">subarray</span><span class="hl-1">(...));  </span><span class="hl-3">// =&gt; 8</span>
</code></pre>

<a href="#serializable" id="serializable" style="color: inherit; text-decoration: none;">
  <h2>Serializable</h2>
</a>
<p><a href="https://jichu4n.github.io/serio/classes/Serializable.html"><code>Serializable</code></a> is
the base class that all serializable values (such as <code>SUInt8</code> and <code>SObject</code>)
derive from. It provides a common interface for basic operations such as
creating, serializing and deserializing values.</p>
<p>Example usage of a <code>Serializable</code> class <code>X</code>:</p>
<pre><code class="language-ts"><span class="hl-3">// Create an instance using default values:</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-8">obj1</span><span class="hl-1"> = </span><span class="hl-4">new</span><span class="hl-1"> </span><span class="hl-6">X</span><span class="hl-1">();</span><br/><span class="hl-3">// Create an instance by decoding from Buffer:</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-8">obj2</span><span class="hl-1"> = </span><span class="hl-8">X</span><span class="hl-1">.</span><span class="hl-6">from</span><span class="hl-1">(</span><span class="hl-0">buffer</span><span class="hl-1">.</span><span class="hl-6">subarray</span><span class="hl-1">(...));</span><br/><br/><span class="hl-3">// Serialize to Buffer:</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-8">buffer</span><span class="hl-1"> = </span><span class="hl-0">obj1</span><span class="hl-1">.</span><span class="hl-6">serialize</span><span class="hl-1">(); </span><span class="hl-3">// =&gt; Buffer</span><br/><br/><span class="hl-3">// Deserialize from a Buffer into the current instance:</span><br/><span class="hl-0">obj2</span><span class="hl-1">.</span><span class="hl-6">deserialize</span><span class="hl-1">(</span><span class="hl-0">buffer</span><span class="hl-1">);</span><br/><br/><span class="hl-3">// Get the byte size of the instance&#39;s serialized form:</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-8">size</span><span class="hl-1"> = </span><span class="hl-0">obj2</span><span class="hl-1">.</span><span class="hl-6">getSerializedLength</span><span class="hl-1">();</span>
</code></pre>

<a href="#integers" id="integers" style="color: inherit; text-decoration: none;">
  <h2>Integers</h2>
</a>
<p>serio provides a set of <code>Serializable</code> wrappers for common integer types.</p>
<p>Example usage:</p>
<pre><code class="language-ts"><span class="hl-3">// Create an unsigned 32-bit integer in little endian format:</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-8">v1</span><span class="hl-1"> = </span><span class="hl-4">new</span><span class="hl-1"> </span><span class="hl-6">SUInt32LE</span><span class="hl-1">();</span><br/><span class="hl-3">// ...with an initial value:</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-8">v2</span><span class="hl-1"> = </span><span class="hl-0">SUInt32LE</span><span class="hl-1">.</span><span class="hl-6">of</span><span class="hl-1">(</span><span class="hl-7">100</span><span class="hl-1">);</span><br/><span class="hl-3">// ...by decoding from a Buffer:</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-8">v3</span><span class="hl-1"> = </span><span class="hl-0">SUInt32LE</span><span class="hl-1">.</span><span class="hl-6">from</span><span class="hl-1">(</span><span class="hl-0">buffer</span><span class="hl-1">.</span><span class="hl-6">subarray</span><span class="hl-1">(...));</span><br/><br/><span class="hl-3">// Manipulate the wrapped value:</span><br/><span class="hl-0">v1</span><span class="hl-1">.</span><span class="hl-0">value</span><span class="hl-1"> = </span><span class="hl-7">100</span><span class="hl-1">;</span><br/><span class="hl-0">v2</span><span class="hl-1">.</span><span class="hl-0">value</span><span class="hl-1"> = </span><span class="hl-0">v1</span><span class="hl-1">.</span><span class="hl-0">value</span><span class="hl-1"> * </span><span class="hl-7">10</span><span class="hl-1">;</span><br/><br/><span class="hl-3">// Serialize / deserialize:</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-8">buffer</span><span class="hl-1"> = </span><span class="hl-0">v1</span><span class="hl-1">.</span><span class="hl-6">serialize</span><span class="hl-1">(); </span><span class="hl-3">// =&gt; Buffer</span><br/><span class="hl-0">v2</span><span class="hl-1">.</span><span class="hl-6">deserialize</span><span class="hl-1">(</span><span class="hl-0">buffer</span><span class="hl-1">);</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-8">size</span><span class="hl-1"> = </span><span class="hl-0">v2</span><span class="hl-1">.</span><span class="hl-6">getSerializedLength</span><span class="hl-1">(); </span><span class="hl-3">// =&gt; 4</span>
</code></pre>
<p>The full list of provided integer types:</p>
<table>
<thead>
<tr>
<th align="center">Type</th>
<th align="center">Size (bytes)</th>
<th align="center">Signed</th>
<th align="center">Endianness</th>
</tr>
</thead>
<tbody><tr>
<td align="center"><a href="https://jichu4n.github.io/serio/classes/SUInt8.html"><code>SUInt8</code></a></td>
<td align="center">1</td>
<td align="center">Unsigned</td>
<td align="center">N/A</td>
</tr>
<tr>
<td align="center"><a href="https://jichu4n.github.io/serio/classes/SInt8.html"><code>SInt8</code></a></td>
<td align="center">1</td>
<td align="center">Signed</td>
<td align="center">N/A</td>
</tr>
<tr>
<td align="center"><a href="https://jichu4n.github.io/serio/classes/SUInt16LE.html"><code>SUInt16LE</code></a></td>
<td align="center">2</td>
<td align="center">Unsigned</td>
<td align="center">Little endian</td>
</tr>
<tr>
<td align="center"><a href="https://jichu4n.github.io/serio/classes/SInt16LE.html"><code>SInt16LE</code></a></td>
<td align="center">2</td>
<td align="center">Signed</td>
<td align="center">Little endian</td>
</tr>
<tr>
<td align="center"><a href="https://jichu4n.github.io/serio/classes/SUInt16BE.html"><code>SUInt16BE</code></a></td>
<td align="center">2</td>
<td align="center">Unsigned</td>
<td align="center">Big endian</td>
</tr>
<tr>
<td align="center"><a href="https://jichu4n.github.io/serio/classes/SInt16BE.html"><code>SInt16BE</code></a></td>
<td align="center">2</td>
<td align="center">Signed</td>
<td align="center">Big endian</td>
</tr>
<tr>
<td align="center"><a href="https://jichu4n.github.io/serio/classes/SUInt32LE.html"><code>SUInt32LE</code></a></td>
<td align="center">4</td>
<td align="center">Unsigned</td>
<td align="center">Little endian</td>
</tr>
<tr>
<td align="center"><a href="https://jichu4n.github.io/serio/classes/SInt32LE.html"><code>SInt32LE</code></a></td>
<td align="center">4</td>
<td align="center">Signed</td>
<td align="center">Little endian</td>
</tr>
<tr>
<td align="center"><a href="https://jichu4n.github.io/serio/classes/SUInt32BE.html"><code>SUInt32BE</code></a></td>
<td align="center">4</td>
<td align="center">Unsigned</td>
<td align="center">Big endian</td>
</tr>
<tr>
<td align="center"><a href="https://jichu4n.github.io/serio/classes/SInt32BE.html"><code>SInt32BE</code></a></td>
<td align="center">4</td>
<td align="center">Signed</td>
<td align="center">Big endian</td>
</tr>
</tbody></table>

<a href="#enums" id="enums" style="color: inherit; text-decoration: none;">
  <h2>Enums</h2>
</a>
<p>All of the integer wrappers above also support looking up an enum label for
JSON-ification. For example:</p>
<pre><code class="language-ts"><span class="hl-4">enum</span><span class="hl-1"> </span><span class="hl-5">MyType</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-8">FOO</span><span class="hl-1"> = </span><span class="hl-7">0</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-8">BAR</span><span class="hl-1"> = </span><span class="hl-7">1</span><span class="hl-1">,</span><br/><span class="hl-1">}</span><br/><span class="hl-8">JSON</span><span class="hl-1">.</span><span class="hl-6">stringify</span><span class="hl-1">(</span><span class="hl-0">SUInt8</span><span class="hl-1">.</span><span class="hl-6">of</span><span class="hl-1">(</span><span class="hl-7">0</span><span class="hl-1">)); </span><span class="hl-3">// =&gt; 0</span><br/><span class="hl-8">JSON</span><span class="hl-1">.</span><span class="hl-6">stringify</span><span class="hl-1">(</span><span class="hl-0">SUInt8</span><span class="hl-1">.</span><span class="hl-6">enum</span><span class="hl-1">(</span><span class="hl-0">MyType</span><span class="hl-1">).</span><span class="hl-6">of</span><span class="hl-1">(</span><span class="hl-7">0</span><span class="hl-1">)); </span><span class="hl-3">// =&gt; &quot;FOO&quot;</span><br/><br/><span class="hl-4">class</span><span class="hl-1"> </span><span class="hl-5">MyObject</span><span class="hl-1"> </span><span class="hl-4">extends</span><span class="hl-1"> </span><span class="hl-5">SObject</span><span class="hl-1"> {</span><br/><span class="hl-1">  @</span><span class="hl-6">field</span><span class="hl-1">(</span><span class="hl-0">SUInt8</span><span class="hl-1">.</span><span class="hl-6">enum</span><span class="hl-1">(</span><span class="hl-0">MyType</span><span class="hl-1">))</span><br/><span class="hl-1">  </span><span class="hl-0">type</span><span class="hl-1"> = </span><span class="hl-0">MyType</span><span class="hl-1">.</span><span class="hl-8">FOO</span><span class="hl-1">;</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-8">JSON</span><span class="hl-1">.</span><span class="hl-6">stringify</span><span class="hl-1">(</span><span class="hl-4">new</span><span class="hl-1"> </span><span class="hl-6">MyObject</span><span class="hl-1">()); </span><span class="hl-3">// =&gt; {&quot;type&quot;: &quot;FOO&quot;}</span><br/><span class="hl-8">JSON</span><span class="hl-1">.</span><span class="hl-6">stringify</span><span class="hl-1">(</span><span class="hl-0">MyObject</span><span class="hl-1">.</span><span class="hl-6">with</span><span class="hl-1">({</span><span class="hl-0">type:</span><span class="hl-1"> </span><span class="hl-0">MyType</span><span class="hl-1">.</span><span class="hl-8">FOO</span><span class="hl-1">})); </span><span class="hl-3">// =&gt; {&quot;type&quot;: &quot;FOO&quot;}</span><br/><span class="hl-8">JSON</span><span class="hl-1">.</span><span class="hl-6">stringify</span><span class="hl-1">(</span><span class="hl-0">MyObject</span><span class="hl-1">.</span><span class="hl-6">with</span><span class="hl-1">({</span><span class="hl-0">type:</span><span class="hl-1"> </span><span class="hl-9">&#39;FOO&#39;</span><span class="hl-1">})); </span><span class="hl-3">// =&gt; {&quot;type&quot;: &quot;FOO&quot;}</span>
</code></pre>

<a href="#strings" id="strings" style="color: inherit; text-decoration: none;">
  <h2>Strings</h2>
</a>
<p>serio provides the
<a href="https://jichu4n.github.io/serio/classes/SStringNT.html"><code>SStringNT</code></a> and
<a href="https://jichu4n.github.io/serio/classes/SString.html"><code>SString</code></a> classes for
working with string values. Both classes wrap a string value and can have
variable or fixed length. The difference is that <code>SStringNT</code> reads and writes
C-style null-terminated strings, whereas <code>SString</code> reads and writes string
values without a trailing null type.</p>
<p>These classes uses the <a href="https://github.com/ashtuchkin/iconv-lite">iconv-lite</a> library under
the hood for encoding / decoding. See
<a href="https://github.com/ashtuchkin/iconv-lite/wiki/Supported-Encodings">here</a> for
the list of supported encodings.</p>

<a href="#variable-length-strings" id="variable-length-strings" style="color: inherit; text-decoration: none;">
  <h3>Variable-length strings</h3>
</a>
<p>Example usage:</p>
<pre><code class="language-ts"><span class="hl-3">// Create a variable-length null-terminated string:</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-8">str1</span><span class="hl-1"> = </span><span class="hl-4">new</span><span class="hl-1"> </span><span class="hl-6">SStringNT</span><span class="hl-1">();</span><br/><span class="hl-3">// ...with an initial value:</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-8">str2</span><span class="hl-1"> = </span><span class="hl-0">SStringNT</span><span class="hl-1">.</span><span class="hl-6">of</span><span class="hl-1">(</span><span class="hl-9">&#39;hello world!&#39;</span><span class="hl-1">);</span><br/><span class="hl-3">// ...by decoding from a buffer using the default encoding (UTF-8):</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-8">str3</span><span class="hl-1"> = </span><span class="hl-0">SStringNT</span><span class="hl-1">.</span><span class="hl-6">from</span><span class="hl-1">(</span><span class="hl-0">buffer</span><span class="hl-1">.</span><span class="hl-6">subarray</span><span class="hl-1">(...));</span><br/><span class="hl-3">// ...by decoding from a buffer using a different encoding:</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-8">str4</span><span class="hl-1"> = </span><span class="hl-0">SStringNT</span><span class="hl-1">.</span><span class="hl-6">from</span><span class="hl-1">(</span><span class="hl-0">buffer</span><span class="hl-1">.</span><span class="hl-6">subarray</span><span class="hl-1">(...), {</span><span class="hl-0">encoding:</span><span class="hl-1"> </span><span class="hl-9">&#39;gb2312&#39;</span><span class="hl-1">});</span><br/><br/><span class="hl-3">// Manipulate the wrapped value:</span><br/><span class="hl-0">str1</span><span class="hl-1">.</span><span class="hl-0">value</span><span class="hl-1"> = </span><span class="hl-9">&#39;foo bar&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-3">// Serialize to a Buffer using the default encoding (UTF-8):</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-8">buf1</span><span class="hl-1"> = </span><span class="hl-0">str1</span><span class="hl-1">.</span><span class="hl-6">serialize</span><span class="hl-1">();</span><br/><span class="hl-3">// ...or using a different encoding:</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-8">buf2</span><span class="hl-1"> = </span><span class="hl-0">str1</span><span class="hl-1">.</span><span class="hl-6">serialize</span><span class="hl-1">({</span><span class="hl-0">encoding:</span><span class="hl-1"> </span><span class="hl-9">&#39;win1251&#39;</span><span class="hl-1">});</span><br/><span class="hl-3">// Deserialize from a Buffer using the default encoding:</span><br/><span class="hl-0">str1</span><span class="hl-1">.</span><span class="hl-6">deserialize</span><span class="hl-1">(</span><span class="hl-0">buffer</span><span class="hl-1">.</span><span class="hl-6">subarray</span><span class="hl-1">(...));</span><br/><span class="hl-3">// ...or using a different encoding:</span><br/><span class="hl-0">str1</span><span class="hl-1">.</span><span class="hl-6">deserialize</span><span class="hl-1">(</span><span class="hl-0">buffer</span><span class="hl-1">.</span><span class="hl-6">subarray</span><span class="hl-1">(...), {</span><span class="hl-0">encoding:</span><span class="hl-1"> </span><span class="hl-9">&#39;win1251&#39;</span><span class="hl-1">});</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-8">size</span><span class="hl-1"> = </span><span class="hl-0">SStringNT</span><span class="hl-1">.</span><span class="hl-6">of</span><span class="hl-1">(</span><span class="hl-9">&#39;hi&#39;</span><span class="hl-1">).</span><span class="hl-6">getSerializedLength</span><span class="hl-1">(); </span><span class="hl-3">// =&gt; 3</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-8">size</span><span class="hl-1"> = </span><span class="hl-0">SString</span><span class="hl-1">.</span><span class="hl-6">of</span><span class="hl-1">(</span><span class="hl-9">&#39;hi&#39;</span><span class="hl-1">).</span><span class="hl-6">getSerializedLength</span><span class="hl-1">(); </span><span class="hl-3">// =&gt; 2</span>
</code></pre>
<p>If your application uses a non-UTF-8 encoding by default, you can also change the
default encoding used by serio to avoid having to pass <code>{encoding: &#39;XX&#39;}</code>
every time:</p>
<pre><code class="language-ts"><span class="hl-3">// Default encoding is UTF-8:</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-8">buf1</span><span class="hl-1"> = </span><span class="hl-0">str1</span><span class="hl-1">.</span><span class="hl-6">serialize</span><span class="hl-1">();</span><br/><br/><span class="hl-6">setDefaultEncoding</span><span class="hl-1">(</span><span class="hl-9">&#39;cp437&#39;</span><span class="hl-1">);</span><br/><span class="hl-3">// ...will now use CP437 if no encoding specified:</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-8">buf1</span><span class="hl-1"> = </span><span class="hl-0">str1</span><span class="hl-1">.</span><span class="hl-6">serialize</span><span class="hl-1">();</span>
</code></pre>

<a href="#fixed-sized-strings" id="fixed-sized-strings" style="color: inherit; text-decoration: none;">
  <h3>Fixed sized strings</h3>
</a>
<p><a href="https://jichu4n.github.io/serio/classes/SStringNT.html#ofLength">SStringNT.ofLength(N)</a>
can be used to represent fixed size strings (equivalent to C character arrays
<code>char[N]</code>). An instance of <code>SStringNT.ofLength(N)</code> will zero pad / truncate the
raw data to size N during serialization and deserialization.</p>
<p>Example usage:</p>
<pre><code class="language-ts"><span class="hl-3">// Create a fixed size null-terminated string:</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-8">str1</span><span class="hl-1"> = </span><span class="hl-4">new</span><span class="hl-1"> (</span><span class="hl-6">SStringNT</span><span class="hl-1">().</span><span class="hl-6">ofLength</span><span class="hl-1">(</span><span class="hl-7">5</span><span class="hl-1">))();</span><br/><span class="hl-3">// ...with an initial value:</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-8">str2</span><span class="hl-1"> = </span><span class="hl-0">SStringNT</span><span class="hl-1">.</span><span class="hl-6">ofLength</span><span class="hl-1">(</span><span class="hl-7">5</span><span class="hl-1">).</span><span class="hl-6">of</span><span class="hl-1">(</span><span class="hl-9">&#39;hello world!&#39;</span><span class="hl-1">);</span><br/><span class="hl-3">// ...by decoding from a buffer using the default encoding (UTF-8):</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-8">str3</span><span class="hl-1"> = </span><span class="hl-0">SStringNT</span><span class="hl-1">.</span><span class="hl-6">ofLength</span><span class="hl-1">(</span><span class="hl-7">5</span><span class="hl-1">).</span><span class="hl-6">from</span><span class="hl-1">(</span><span class="hl-0">buffer</span><span class="hl-1">.</span><span class="hl-6">subarray</span><span class="hl-1">(...));</span><br/><br/><span class="hl-3">// Manipulate the wrapped value:</span><br/><span class="hl-0">str1</span><span class="hl-1">.</span><span class="hl-0">value</span><span class="hl-1"> = </span><span class="hl-9">&#39;foo bar&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-3">// Fixed size strings will zero-pad up to its specified size for serialization</span><br/><span class="hl-3">// / deserialization:</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-8">str1</span><span class="hl-1"> = </span><span class="hl-4">new</span><span class="hl-1"> (</span><span class="hl-0">SStringNT</span><span class="hl-1">.</span><span class="hl-6">ofLength</span><span class="hl-1">(</span><span class="hl-7">3</span><span class="hl-1">))();</span><br/><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-6">log</span><span class="hl-1">(</span><span class="hl-0">str1</span><span class="hl-1">.</span><span class="hl-0">value</span><span class="hl-1">); </span><span class="hl-3">// =&gt;  &#39;&#39;</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-8">buf1</span><span class="hl-1"> = </span><span class="hl-0">str1</span><span class="hl-1">.</span><span class="hl-6">serialize</span><span class="hl-1">(); </span><span class="hl-3">// =&gt; &#39;\x00\x00\x00&#39;</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-8">size1</span><span class="hl-1"> = </span><span class="hl-0">str1</span><span class="hl-1">.</span><span class="hl-6">getSerializedLength</span><span class="hl-1">(); </span><span class="hl-3">// =&gt; 3</span><br/><span class="hl-0">str1</span><span class="hl-1">.</span><span class="hl-0">value</span><span class="hl-1"> = </span><span class="hl-9">&#39;A&#39;</span><span class="hl-1">;</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-8">buf2</span><span class="hl-1"> = </span><span class="hl-0">str1</span><span class="hl-1">.</span><span class="hl-6">serialize</span><span class="hl-1">(); </span><span class="hl-3">// =&gt; &#39;A\x00\x00&#39;</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-8">size2</span><span class="hl-1"> = </span><span class="hl-0">str1</span><span class="hl-1">.</span><span class="hl-6">getSerializedLength</span><span class="hl-1">(); </span><span class="hl-3">// =&gt; 3</span><br/><br/><span class="hl-3">// Fixed size strings will truncate values down to its specified size for</span><br/><span class="hl-3">// serialization / deserialization:</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-8">str2</span><span class="hl-1"> = </span><span class="hl-0">SStringNT</span><span class="hl-1">.</span><span class="hl-6">ofLength</span><span class="hl-1">(</span><span class="hl-7">3</span><span class="hl-1">).</span><span class="hl-6">of</span><span class="hl-1">(</span><span class="hl-9">&#39;hello&#39;</span><span class="hl-1">);</span><br/><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-6">log</span><span class="hl-1">(</span><span class="hl-0">str2</span><span class="hl-1">.</span><span class="hl-0">value</span><span class="hl-1">); </span><span class="hl-3">// =&gt; &#39;hello&#39;</span><br/><span class="hl-0">str2</span><span class="hl-1">.</span><span class="hl-6">serialize</span><span class="hl-1">(); </span><span class="hl-3">// =&gt; &#39;he\x00&#39;</span><br/><span class="hl-0">str2</span><span class="hl-1">.</span><span class="hl-6">getSerializedLength</span><span class="hl-1">(); </span><span class="hl-3">// =&gt; 3</span><br/><span class="hl-0">str2</span><span class="hl-1">.</span><span class="hl-6">deserialize</span><span class="hl-1">(</span><span class="hl-0">Buffer</span><span class="hl-1">.</span><span class="hl-6">from</span><span class="hl-1">(</span><span class="hl-9">&#39;hello&#39;</span><span class="hl-1">, </span><span class="hl-9">&#39;utf-8&#39;</span><span class="hl-1">));</span><br/><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-6">log</span><span class="hl-1">(</span><span class="hl-0">str2</span><span class="hl-1">.</span><span class="hl-0">value</span><span class="hl-1">); </span><span class="hl-3">// =&gt; &#39;hel&#39;</span><br/><br/><span class="hl-3">// SString works similarly but does not write a trailing null byte.</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-8">str3</span><span class="hl-1"> = </span><span class="hl-0">SString</span><span class="hl-1">.</span><span class="hl-6">ofLength</span><span class="hl-1">(</span><span class="hl-7">3</span><span class="hl-1">).</span><span class="hl-6">of</span><span class="hl-1">(</span><span class="hl-9">&#39;hello&#39;</span><span class="hl-1">);</span><br/><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-6">log</span><span class="hl-1">(</span><span class="hl-0">str3</span><span class="hl-1">.</span><span class="hl-0">value</span><span class="hl-1">); </span><span class="hl-3">// =&gt; &#39;hello&#39;</span><br/><span class="hl-0">str3</span><span class="hl-1">.</span><span class="hl-6">serialize</span><span class="hl-1">(); </span><span class="hl-3">// =&gt; &#39;hel&#39;</span><br/><span class="hl-0">str3</span><span class="hl-1">.</span><span class="hl-6">getSerializedLength</span><span class="hl-1">(); </span><span class="hl-3">// =&gt; 3</span><br/><span class="hl-0">str3</span><span class="hl-1">.</span><span class="hl-6">deserialize</span><span class="hl-1">(</span><span class="hl-0">Buffer</span><span class="hl-1">.</span><span class="hl-6">from</span><span class="hl-1">(</span><span class="hl-9">&#39;hello&#39;</span><span class="hl-1">, </span><span class="hl-9">&#39;utf-8&#39;</span><span class="hl-1">));</span><br/><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-6">log</span><span class="hl-1">(</span><span class="hl-0">str3</span><span class="hl-1">.</span><span class="hl-0">value</span><span class="hl-1">); </span><span class="hl-3">// =&gt; &#39;hel&#39;</span>
</code></pre>

<a href="#arrays" id="arrays" style="color: inherit; text-decoration: none;">
  <h2>Arrays</h2>
</a>
<p>serio provides the
<a href="https://jichu4n.github.io/serio/classes/SArray.html"><code>SArray</code></a> class for
working with array values. An <code>SArray</code> instance can wrap an array of other
<code>Serializables</code>, including <code>SObject</code>s and other <code>SArray</code>s:</p>
<pre><code class="language-ts"><span class="hl-3">// Create an empty SArray object:</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-8">arr1</span><span class="hl-1"> = </span><span class="hl-4">new</span><span class="hl-1"> </span><span class="hl-6">SArray</span><span class="hl-1">&lt;</span><span class="hl-5">SUInt32LE</span><span class="hl-1">&gt;();</span><br/><span class="hl-3">// ...with an initial set of values:</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-8">arr2</span><span class="hl-1"> = </span><span class="hl-0">SArray</span><span class="hl-1">.</span><span class="hl-6">of</span><span class="hl-1">([</span><span class="hl-0">obj1</span><span class="hl-1">, </span><span class="hl-0">obj2</span><span class="hl-1">, </span><span class="hl-0">obj3</span><span class="hl-1">]);</span><br/><span class="hl-3">// ...with an element value repeated N times:</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-8">arr3</span><span class="hl-1"> = </span><span class="hl-0">SArray</span><span class="hl-1">.</span><span class="hl-6">of</span><span class="hl-1">(</span><span class="hl-0">_</span><span class="hl-1">.</span><span class="hl-6">times</span><span class="hl-1">(</span><span class="hl-7">5</span><span class="hl-1">, () </span><span class="hl-4">=&gt;</span><span class="hl-1"> </span><span class="hl-0">SUInt32LE</span><span class="hl-1">.</span><span class="hl-6">of</span><span class="hl-1">(</span><span class="hl-7">0</span><span class="hl-1">)));</span><br/><br/><span class="hl-3">// The underlying array can be manipulated via the `value` property:</span><br/><span class="hl-0">arr1</span><span class="hl-1">.</span><span class="hl-0">value</span><span class="hl-1">.</span><span class="hl-6">forEach</span><span class="hl-1">(...);</span><br/><span class="hl-0">arr1</span><span class="hl-1">.</span><span class="hl-0">value</span><span class="hl-1"> = [</span><span class="hl-0">obj1</span><span class="hl-1">, </span><span class="hl-0">obj2</span><span class="hl-1">];</span><br/><br/><br/><span class="hl-3">// Serialize to Buffer:</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-8">buf1</span><span class="hl-1"> = </span><span class="hl-0">arr1</span><span class="hl-1">.</span><span class="hl-6">serialize</span><span class="hl-1">();</span><br/><br/><span class="hl-3">// Deserialize from a Buffer into the current elements in `value`:</span><br/><span class="hl-0">arr1</span><span class="hl-1">.</span><span class="hl-6">deserialize</span><span class="hl-1">(</span><span class="hl-0">buffer</span><span class="hl-1">);</span><br/><br/><span class="hl-3">// Returns the total serialized length of all elements in `value`:</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-8">size</span><span class="hl-1"> = </span><span class="hl-0">arr1</span><span class="hl-1">.</span><span class="hl-6">getSerializedLength</span><span class="hl-1">();</span>
</code></pre>
<p>To wrap arrays of numbers, strings, and other raw values, <code>SArray</code> can be
combined with wrapper classes such as <code>SUInt32LE</code> and <code>SStringNT</code> using
<code>SArray.of(wrapperClass)</code>. To wrap multi-dimensional arrays, multiple levels of
<code>SArray</code>s can be created using <code>SArray.of(SArray.of(...))</code>. For example:</p>
<pre><code class="language-ts"><span class="hl-3">// Create an SArray equivalent to uint8_t[3], initialized to 0.</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-8">arr1</span><span class="hl-1"> = </span><span class="hl-0">SArray</span><span class="hl-1">.</span><span class="hl-6">of</span><span class="hl-1">(</span><span class="hl-0">SUInt8</span><span class="hl-1">).</span><span class="hl-6">of</span><span class="hl-1">([</span><span class="hl-7">0</span><span class="hl-1">, </span><span class="hl-7">0</span><span class="hl-1">, </span><span class="hl-7">0</span><span class="hl-1">]);</span><br/><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-6">log</span><span class="hl-1">(</span><span class="hl-0">arr1</span><span class="hl-1">.</span><span class="hl-0">value</span><span class="hl-1">); </span><span class="hl-3">// [0, 0, 0]</span><br/><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-6">log</span><span class="hl-1">(</span><span class="hl-0">arr1</span><span class="hl-1">.</span><span class="hl-6">serialize</span><span class="hl-1">()); </span><span class="hl-3">// Buffer.of(0, 0, 0)</span><br/><br/><span class="hl-3">// Create an SArray of strings from an existing array:</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-8">arr3</span><span class="hl-1"> = </span><span class="hl-0">SArray</span><span class="hl-1">.</span><span class="hl-6">of</span><span class="hl-1">(</span><span class="hl-0">SStringNT</span><span class="hl-1">.</span><span class="hl-6">ofLength</span><span class="hl-1">(</span><span class="hl-7">10</span><span class="hl-1">)).</span><span class="hl-6">of</span><span class="hl-1">([</span><span class="hl-9">&#39;hello&#39;</span><span class="hl-1">, </span><span class="hl-9">&#39;foo&#39;</span><span class="hl-1">, </span><span class="hl-9">&#39;bar&#39;</span><span class="hl-1">]);</span><br/><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-6">log</span><span class="hl-1">(</span><span class="hl-0">arr3</span><span class="hl-1">.</span><span class="hl-0">value</span><span class="hl-1">); </span><span class="hl-3">// &#39;hello&#39;, &#39;foo&#39;, &#39;bar&#39;</span><br/><br/><span class="hl-3">// Create a 3x3 2D SArray:</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-8">arr4</span><span class="hl-1"> = </span><span class="hl-0">SArray</span><span class="hl-1">.</span><span class="hl-6">of</span><span class="hl-1">(</span><span class="hl-0">SArray</span><span class="hl-1">.</span><span class="hl-6">of</span><span class="hl-1">(</span><span class="hl-0">SUInt8</span><span class="hl-1">)).</span><span class="hl-6">of</span><span class="hl-1">([</span><br/><span class="hl-1">  [</span><span class="hl-7">0</span><span class="hl-1">, </span><span class="hl-7">0</span><span class="hl-1">, </span><span class="hl-7">0</span><span class="hl-1">],</span><br/><span class="hl-1">  [</span><span class="hl-7">1</span><span class="hl-1">, </span><span class="hl-7">1</span><span class="hl-1">, </span><span class="hl-7">1</span><span class="hl-1">],</span><br/><span class="hl-1">  [</span><span class="hl-7">2</span><span class="hl-1">, </span><span class="hl-7">2</span><span class="hl-1">, </span><span class="hl-7">2</span><span class="hl-1">],</span><br/><span class="hl-1">]);</span><br/><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-6">log</span><span class="hl-1">(</span><span class="hl-0">arr4</span><span class="hl-1">.</span><span class="hl-0">value</span><span class="hl-1">[</span><span class="hl-7">2</span><span class="hl-1">][</span><span class="hl-7">0</span><span class="hl-1">]); </span><span class="hl-3">// =&gt; 2</span><br/><br/><span class="hl-3">// Serialization / deserialization options are passed through to contained elements.</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-8">arr5</span><span class="hl-1"> = </span><span class="hl-0">SArray</span><span class="hl-1">.</span><span class="hl-6">of</span><span class="hl-1">(</span><span class="hl-0">SStringNT</span><span class="hl-1">).</span><span class="hl-6">of</span><span class="hl-1">([</span><span class="hl-9">&#39;你好&#39;</span><span class="hl-1">, </span><span class="hl-9">&#39;世界&#39;</span><span class="hl-1">]);</span><br/><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-6">log</span><span class="hl-1">([</span><br/><span class="hl-1">  </span><span class="hl-0">arr5</span><span class="hl-1">.</span><span class="hl-6">getSerializedLength</span><span class="hl-1">(), </span><span class="hl-3">// =&gt; 14</span><br/><span class="hl-1">  </span><span class="hl-0">arr5</span><span class="hl-1">.</span><span class="hl-6">getSerializedLength</span><span class="hl-1">({</span><span class="hl-0">encoding:</span><span class="hl-1"> </span><span class="hl-9">&#39;gb2312&#39;</span><span class="hl-1">}), </span><span class="hl-3">// 10</span><br/><span class="hl-1">]);</span><br/><span class="hl-0">arr5</span><span class="hl-1">.</span><span class="hl-6">serialize</span><span class="hl-1">({</span><span class="hl-0">encoding:</span><span class="hl-1"> </span><span class="hl-9">&#39;gb2312&#39;</span><span class="hl-1">});</span><br/><span class="hl-0">arr5</span><span class="hl-1">.</span><span class="hl-6">deserialize</span><span class="hl-1">(</span><span class="hl-0">buffer</span><span class="hl-1">, {</span><span class="hl-0">encoding:</span><span class="hl-1"> </span><span class="hl-9">&#39;gb2312&#39;</span><span class="hl-1">});</span>
</code></pre>

<a href="#fixed-sized-arrays" id="fixed-sized-arrays" style="color: inherit; text-decoration: none;">
  <h3>Fixed sized arrays</h3>
</a>
<p><a href="https://jichu4n.github.io/serio/classes/SArray.html#ofLength"><code>SArray.ofLength(N, elementType)</code></a> and
<a href="https://jichu4n.github.io/serio/classes/SArrayWithWrapper.html#ofLength"><code>SArray.of(wrapperType).ofLength(N)</code></a>
can be used to represent fixed size arrays, equivalent to C arrays
(<code>elementType[N]</code>). An instance of <code>SArray.ofLength(N, elementType)</code> or
<code>SArray.of(wrapperType).ofLength(N)</code> will pad / truncate the array to size N
during serialization and deserialization.</p>
<p>Example usage:</p>
<pre><code class="language-ts"><span class="hl-3">// Create a fixed size array equivalent to uint8_t[3], initialized to 0.</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-8">arr1</span><span class="hl-1"> = </span><span class="hl-4">new</span><span class="hl-1"> (</span><span class="hl-0">SArray</span><span class="hl-1">.</span><span class="hl-6">of</span><span class="hl-1">(</span><span class="hl-0">SUInt8</span><span class="hl-1">).</span><span class="hl-6">ofLength</span><span class="hl-1">(</span><span class="hl-7">3</span><span class="hl-1">))();</span><br/><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-6">log</span><span class="hl-1">(</span><span class="hl-0">arr1</span><span class="hl-1">.</span><span class="hl-0">value</span><span class="hl-1">); </span><span class="hl-3">// [0, 0, 0]</span><br/><br/><span class="hl-3">// Extra elements are ignored during serialization.</span><br/><span class="hl-0">arr1</span><span class="hl-1">.</span><span class="hl-0">value</span><span class="hl-1"> = [</span><span class="hl-7">1</span><span class="hl-1">, </span><span class="hl-7">2</span><span class="hl-1">, </span><span class="hl-7">3</span><span class="hl-1">, </span><span class="hl-7">4</span><span class="hl-1">, </span><span class="hl-7">5</span><span class="hl-1">];</span><br/><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-6">log</span><span class="hl-1">(</span><span class="hl-0">arr1</span><span class="hl-1">.</span><span class="hl-6">getSerializedLength</span><span class="hl-1">()); </span><span class="hl-3">// 3</span><br/><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-6">log</span><span class="hl-1">(</span><span class="hl-0">arr1</span><span class="hl-1">.</span><span class="hl-6">toJSON</span><span class="hl-1">()); </span><span class="hl-3">// [1, 2, 3]</span><br/><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-6">log</span><span class="hl-1">(</span><span class="hl-0">arr1</span><span class="hl-1">.</span><span class="hl-6">serialize</span><span class="hl-1">()); </span><span class="hl-3">// Buffer.of([1, 2, 3]);</span><br/><span class="hl-3">// Extra elements are preserved as-is during deserialization.</span><br/><span class="hl-0">arr1</span><span class="hl-1">.</span><span class="hl-6">deserialize</span><span class="hl-1">(</span><span class="hl-0">Buffer</span><span class="hl-1">.</span><span class="hl-6">of</span><span class="hl-1">(</span><span class="hl-7">6</span><span class="hl-1">, </span><span class="hl-7">7</span><span class="hl-1">, </span><span class="hl-7">8</span><span class="hl-1">, </span><span class="hl-7">9</span><span class="hl-1">, </span><span class="hl-7">10</span><span class="hl-1">));</span><br/><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-6">log</span><span class="hl-1">(</span><span class="hl-0">arr1</span><span class="hl-1">.</span><span class="hl-0">value</span><span class="hl-1">); </span><span class="hl-3">// [6, 7, 8, 4, 5]</span><br/><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-6">log</span><span class="hl-1">(</span><span class="hl-0">arr1</span><span class="hl-1">.</span><span class="hl-6">serialize</span><span class="hl-1">()); </span><span class="hl-3">// Buffer.of([6, 7, 8]);</span><br/><br/><span class="hl-3">// Missing elements are padded with default values during serialization.</span><br/><span class="hl-0">arr1</span><span class="hl-1">.</span><span class="hl-0">value</span><span class="hl-1"> = [];</span><br/><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-6">log</span><span class="hl-1">(</span><span class="hl-0">arr1</span><span class="hl-1">.</span><span class="hl-6">getSerializedLength</span><span class="hl-1">()); </span><span class="hl-3">// 3</span><br/><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-6">log</span><span class="hl-1">(</span><span class="hl-0">arr1</span><span class="hl-1">.</span><span class="hl-6">serialize</span><span class="hl-1">()); </span><span class="hl-3">// Buffer.of([0, 0, 0]);</span><br/><span class="hl-3">// Missing elements are added during deserialization.</span><br/><span class="hl-0">arr1</span><span class="hl-1">.</span><span class="hl-6">deserialize</span><span class="hl-1">(</span><span class="hl-0">Buffer</span><span class="hl-1">.</span><span class="hl-6">of</span><span class="hl-1">(</span><span class="hl-7">101</span><span class="hl-1">, </span><span class="hl-7">102</span><span class="hl-1">, </span><span class="hl-7">103</span><span class="hl-1">));</span><br/><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-6">log</span><span class="hl-1">(</span><span class="hl-0">arr1</span><span class="hl-1">.</span><span class="hl-0">value</span><span class="hl-1">); </span><span class="hl-3">// [101, 102, 103]</span>
</code></pre>

<a href="#objects" id="objects" style="color: inherit; text-decoration: none;">
  <h2>Objects</h2>
</a>
<p>serio provides the
<a href="https://jichu4n.github.io/serio/classes/SObject.html"><code>SObject</code></a> class for
defining serializable objects that are conceptually equivalent to C/C++
<code>struct</code>s.</p>
<p>To define a serializable object:</p>
<ol>
<li>Create a TypeScript class that derives from
<a href="https://jichu4n.github.io/serio/classes/SObject.html"><code>SObject</code></a>, i.e.
<code>class X extends SObject</code>.</li>
<li>Use the <a href="https://jichu4n.github.io/serio/functions/field.html"><code>@field()</code>
decorator</a> to annotate
class properties that should be serialized / deserialized:<ul>
<li><code>@field() prop = X;</code> if the property is itself a <code>Serializable</code>, such as
another object;</li>
<li><code>@field(WrapperClass) prop = X;</code> if the property should be wrapped with a
<code>Serializable</code> wrapper, such as an integer or a string.</li>
</ul>
</li>
</ol>
<p>Basic example:</p>
<pre><code class="language-ts"><span class="hl-3">/** A class that maps to the following C struct:</span><br/><span class="hl-3"> *</span><br/><span class="hl-3"> *     struct Position {</span><br/><span class="hl-3"> *         uint32_t x;</span><br/><span class="hl-3"> *         uint32_t y;</span><br/><span class="hl-3"> *     };</span><br/><span class="hl-3"> */</span><br/><span class="hl-4">class</span><span class="hl-1"> </span><span class="hl-5">Position</span><span class="hl-1"> </span><span class="hl-4">extends</span><span class="hl-1"> </span><span class="hl-5">SObject</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-3">// This will wrap x using SUInt32LE for serialization / deserialization</span><br/><span class="hl-1">  </span><span class="hl-3">// behind the scenes, but allows it to be manipulated as a normal class</span><br/><span class="hl-1">  </span><span class="hl-3">// property of type number.</span><br/><span class="hl-1">  @</span><span class="hl-6">field</span><span class="hl-1">(</span><span class="hl-0">SUInt32LE</span><span class="hl-1">)</span><br/><span class="hl-1">  </span><span class="hl-0">x</span><span class="hl-1"> = </span><span class="hl-7">0</span><span class="hl-1">;</span><br/><br/><span class="hl-1">  @</span><span class="hl-6">field</span><span class="hl-1">(</span><span class="hl-0">SUInt32LE</span><span class="hl-1">)</span><br/><span class="hl-1">  </span><span class="hl-0">y</span><span class="hl-1"> = </span><span class="hl-7">0</span><span class="hl-1">;</span><br/><br/><span class="hl-1">  </span><span class="hl-3">// Properties without a decorator are ignored for serialization, but will</span><br/><span class="hl-1">  </span><span class="hl-3">// be included in JSON output by default (JSON.stringify(obj) or obj.toJSON()).</span><br/><span class="hl-1">  </span><span class="hl-3">// Use `@json(false)` to exclude them.</span><br/><span class="hl-1">  @</span><span class="hl-6">json</span><span class="hl-1">(</span><span class="hl-4">false</span><span class="hl-1">)</span><br/><span class="hl-1">  </span><span class="hl-0">foo</span><span class="hl-1"> = </span><span class="hl-7">100</span><span class="hl-1">;</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-3">// Create instance with default values:</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-8">pos1</span><span class="hl-1"> = </span><span class="hl-4">new</span><span class="hl-1"> </span><span class="hl-6">Position</span><span class="hl-1">();</span><br/><span class="hl-3">// ...or with a set of initial values (can be partial):</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-8">pos2</span><span class="hl-1"> = </span><span class="hl-0">Position</span><span class="hl-1">.</span><span class="hl-6">with</span><span class="hl-1">({</span><span class="hl-0">x:</span><span class="hl-1"> </span><span class="hl-7">5</span><span class="hl-1">, </span><span class="hl-0">y:</span><span class="hl-1"> </span><span class="hl-7">0</span><span class="hl-1">});</span><br/><span class="hl-3">// ...or by deserializing from an existing Buffer:</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-8">pos3</span><span class="hl-1"> = </span><span class="hl-0">Position</span><span class="hl-1">.</span><span class="hl-6">from</span><span class="hl-1">(</span><span class="hl-0">buffer</span><span class="hl-1">.</span><span class="hl-6">subarray</span><span class="hl-1">(...));</span><br/><br/><span class="hl-3">// Fields can be manipulated normally:</span><br/><span class="hl-0">pos1</span><span class="hl-1">.</span><span class="hl-0">x</span><span class="hl-1"> = </span><span class="hl-7">5</span><span class="hl-1">;</span><br/><span class="hl-0">pos1</span><span class="hl-1">.</span><span class="hl-0">y</span><span class="hl-1"> = </span><span class="hl-0">pos1</span><span class="hl-1">.</span><span class="hl-0">x</span><span class="hl-1"> + </span><span class="hl-7">10</span><span class="hl-1">;</span><br/><br/><span class="hl-3">// Serialize to Buffer:</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-8">buf</span><span class="hl-1"> = </span><span class="hl-0">pos1</span><span class="hl-1">.</span><span class="hl-6">serialize</span><span class="hl-1">(); </span><span class="hl-3">// =&gt; Buffer</span><br/><span class="hl-3">// Get the byte size of the instance&#39;s serialized form:</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-8">size</span><span class="hl-1"> = </span><span class="hl-0">pos1</span><span class="hl-1">.</span><span class="hl-6">getSerializedLength</span><span class="hl-1">();  </span><span class="hl-3">// =&gt; 8</span><br/><span class="hl-3">// Deserialize into an existing instance, returning number of bytes red</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-8">bytesRead</span><span class="hl-1"> = </span><span class="hl-0">pos1</span><span class="hl-1">.</span><span class="hl-6">deserialize</span><span class="hl-1">(</span><span class="hl-0">buffer</span><span class="hl-1">.</span><span class="hl-6">subarray</span><span class="hl-1">(...));  </span><span class="hl-3">// =&gt; 8</span>
</code></pre>
<p>A more advanced example showing <code>@field()</code> with getter / setters:</p>
<pre><code class="language-ts"><span class="hl-3">/** A class that implements 8-bit color in the format RRR GG BB (see</span><br/><span class="hl-3"> *  https://en.wikipedia.org/wiki/8-bit_color).</span><br/><span class="hl-3"> */</span><br/><span class="hl-4">class</span><span class="hl-1"> </span><span class="hl-5">Color</span><span class="hl-1"> </span><span class="hl-4">extends</span><span class="hl-1"> </span><span class="hl-5">SObject</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-3">// We expose red, green and blue component values as separate properties to</span><br/><span class="hl-1">  </span><span class="hl-3">// make them easy to manipulate.</span><br/><span class="hl-1">  </span><span class="hl-0">red</span><span class="hl-1"> = </span><span class="hl-7">0</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-0">green</span><span class="hl-1"> = </span><span class="hl-7">0</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-0">blue</span><span class="hl-1"> = </span><span class="hl-7">0</span><span class="hl-1">;</span><br/><br/><span class="hl-1">  </span><span class="hl-3">// We use @field() to decorate our getter / setter for `color`, which</span><br/><span class="hl-1">  </span><span class="hl-3">// encodes red / green / blue components as an 8-bit color value in the</span><br/><span class="hl-1">  </span><span class="hl-3">// format RRR GGG BB.</span><br/><span class="hl-1">  @</span><span class="hl-6">field</span><span class="hl-1">(</span><span class="hl-0">SUInt8</span><span class="hl-1">)</span><br/><span class="hl-1">  </span><span class="hl-3">// Getters / setters aren&#39;t included by default in JSON output</span><br/><span class="hl-1">  </span><span class="hl-3">// (JSON.stringify(obj) or obj.toJSON()). Use `@json(true)` to include them.</span><br/><span class="hl-1">  @</span><span class="hl-6">json</span><span class="hl-1">(</span><span class="hl-4">true</span><span class="hl-1">)</span><br/><span class="hl-1">  </span><span class="hl-4">get</span><span class="hl-1"> </span><span class="hl-6">value</span><span class="hl-1">() {</span><br/><span class="hl-1">    </span><span class="hl-2">return</span><span class="hl-1"> (</span><br/><span class="hl-1">      ((</span><span class="hl-4">this</span><span class="hl-1">.</span><span class="hl-0">red</span><span class="hl-1"> &amp; </span><span class="hl-7">0x07</span><span class="hl-1">) &lt;&lt; </span><span class="hl-7">5</span><span class="hl-1">) | (</span><span class="hl-4">this</span><span class="hl-1">.</span><span class="hl-0">green</span><span class="hl-1"> &amp; (</span><span class="hl-7">0x07</span><span class="hl-1"> &lt;&lt; </span><span class="hl-7">2</span><span class="hl-1">)) | (</span><span class="hl-4">this</span><span class="hl-1">.</span><span class="hl-0">blue</span><span class="hl-1"> &amp; </span><span class="hl-7">0x03</span><span class="hl-1">)</span><br/><span class="hl-1">    );</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">  </span><span class="hl-4">set</span><span class="hl-1"> </span><span class="hl-6">value</span><span class="hl-1">(</span><span class="hl-0">v</span><span class="hl-1">: </span><span class="hl-5">number</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-4">this</span><span class="hl-1">.</span><span class="hl-0">red</span><span class="hl-1"> = (</span><span class="hl-0">v</span><span class="hl-1"> &gt;&gt; </span><span class="hl-7">5</span><span class="hl-1">) &amp; </span><span class="hl-7">0x07</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-4">this</span><span class="hl-1">.</span><span class="hl-0">green</span><span class="hl-1"> = (</span><span class="hl-0">v</span><span class="hl-1"> &gt;&gt; </span><span class="hl-7">2</span><span class="hl-1">) &amp; </span><span class="hl-7">0x07</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-4">this</span><span class="hl-1">.</span><span class="hl-0">blue</span><span class="hl-1"> = </span><span class="hl-0">v</span><span class="hl-1"> &amp; </span><span class="hl-7">0x03</span><span class="hl-1">;</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span>
</code></pre>
<p>However, note that you should <strong>avoid using <code>@field()</code> with both regular
properties and getters / setters in the same <code>SObject</code> class</strong>. This is due to a
quirk in the ES6 decorator spec: decorator initializers for getters / setters
always run before regular properties, so if a class contains a mixure of
decorated properties and decorated getters / setters, the resulting
serialization order will likely be different from the declaration order in the
code.</p>
<p>Example combining objects and arrays:</p>
<pre><code class="language-ts"><span class="hl-4">class</span><span class="hl-1"> </span><span class="hl-5">ExampleObject</span><span class="hl-1"> </span><span class="hl-4">extends</span><span class="hl-1"> </span><span class="hl-5">SObject</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-3">// Equivalent C: Point[10]</span><br/><span class="hl-1">  @</span><span class="hl-6">field</span><span class="hl-1">(</span><span class="hl-0">SArray</span><span class="hl-1">)</span><br/><span class="hl-1">  </span><span class="hl-0">prop1</span><span class="hl-1"> = </span><span class="hl-6">Array</span><span class="hl-1">(</span><span class="hl-7">10</span><span class="hl-1">)</span><br/><span class="hl-1">    .</span><span class="hl-6">fill</span><span class="hl-1">()</span><br/><span class="hl-1">    .</span><span class="hl-6">map</span><span class="hl-1">(() </span><span class="hl-4">=&gt;</span><span class="hl-1"> </span><span class="hl-4">new</span><span class="hl-1"> </span><span class="hl-6">Point</span><span class="hl-1">());</span><br/><br/><span class="hl-1">  </span><span class="hl-3">// Equivalent C: uint8_t[10]</span><br/><span class="hl-1">  @</span><span class="hl-6">field</span><span class="hl-1">(</span><span class="hl-0">SArray</span><span class="hl-1">.</span><span class="hl-6">of</span><span class="hl-1">(</span><span class="hl-0">SUInt8</span><span class="hl-1">))</span><br/><span class="hl-1">  </span><span class="hl-0">prop2</span><span class="hl-1"> = </span><span class="hl-6">Array</span><span class="hl-1">(</span><span class="hl-7">10</span><span class="hl-1">).</span><span class="hl-6">fill</span><span class="hl-1">(</span><span class="hl-7">0</span><span class="hl-1">);</span><br/><br/><span class="hl-1">  </span><span class="hl-3">// Equivalent C: char[2][2][10]</span><br/><span class="hl-1">  @</span><span class="hl-6">field</span><span class="hl-1">(</span><span class="hl-0">SArray</span><span class="hl-1">.</span><span class="hl-6">of</span><span class="hl-1">(</span><span class="hl-0">SArray</span><span class="hl-1">.</span><span class="hl-6">of</span><span class="hl-1">(</span><span class="hl-0">SStringNT</span><span class="hl-1">.</span><span class="hl-6">ofLength</span><span class="hl-1">(</span><span class="hl-7">10</span><span class="hl-1">))))</span><br/><span class="hl-1">  </span><span class="hl-0">prop3</span><span class="hl-1"> = [</span><br/><span class="hl-1">    [</span><span class="hl-9">&#39;hello&#39;</span><span class="hl-1">, </span><span class="hl-9">&#39;world&#39;</span><span class="hl-1">],</span><br/><span class="hl-1">    [</span><span class="hl-9">&#39;foo&#39;</span><span class="hl-1">, </span><span class="hl-9">&#39;bar&#39;</span><span class="hl-1">],</span><br/><span class="hl-1">  ];</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-3">// Equivalent C: ExampleObject[5]</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-8">arr1</span><span class="hl-1"> = </span><span class="hl-0">SArray</span><span class="hl-1">.</span><span class="hl-6">of</span><span class="hl-1">(</span><span class="hl-0">_</span><span class="hl-1">.</span><span class="hl-6">times</span><span class="hl-1">(</span><span class="hl-7">5</span><span class="hl-1">, () </span><span class="hl-4">=&gt;</span><span class="hl-1"> </span><span class="hl-4">new</span><span class="hl-1"> </span><span class="hl-6">ExampleObject</span><span class="hl-1">()));</span><br/><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-6">log</span><span class="hl-1">(</span><span class="hl-0">arr1</span><span class="hl-1">.</span><span class="hl-0">value</span><span class="hl-1">[</span><span class="hl-7">0</span><span class="hl-1">].</span><span class="hl-0">prop3</span><span class="hl-1">[</span><span class="hl-7">0</span><span class="hl-1">][</span><span class="hl-7">0</span><span class="hl-1">]); </span><span class="hl-3">// =&gt; &#39;hello&#39;</span>
</code></pre>
<p>Example showing JSON conversion:</p>
<pre><code class="language-ts"><span class="hl-4">class</span><span class="hl-1"> </span><span class="hl-5">Segment</span><span class="hl-1"> </span><span class="hl-4">extends</span><span class="hl-1"> </span><span class="hl-5">SObject</span><span class="hl-1"> {</span><br/><span class="hl-1">  @</span><span class="hl-6">field</span><span class="hl-1">()</span><br/><span class="hl-1">  </span><span class="hl-0">p1</span><span class="hl-1"> = </span><span class="hl-4">new</span><span class="hl-1"> </span><span class="hl-6">Point</span><span class="hl-1">();</span><br/><span class="hl-1">  @</span><span class="hl-6">field</span><span class="hl-1">()</span><br/><span class="hl-1">  </span><span class="hl-0">p2</span><span class="hl-1"> = </span><span class="hl-4">new</span><span class="hl-1"> </span><span class="hl-6">Point</span><span class="hl-1">();</span><br/><span class="hl-1">}</span><br/><span class="hl-3">// Initialize with point instances</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-8">s1</span><span class="hl-1"> = </span><span class="hl-0">Segment</span><span class="hl-1">.</span><span class="hl-6">with</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-0">p1:</span><span class="hl-1"> </span><span class="hl-0">Point</span><span class="hl-1">.</span><span class="hl-6">with</span><span class="hl-1">({</span><span class="hl-0">x:</span><span class="hl-1"> </span><span class="hl-7">1</span><span class="hl-1">, </span><span class="hl-0">y:</span><span class="hl-1"> </span><span class="hl-7">1</span><span class="hl-1">}),</span><br/><span class="hl-1">  </span><span class="hl-0">p2:</span><span class="hl-1"> </span><span class="hl-0">Point</span><span class="hl-1">.</span><span class="hl-6">with</span><span class="hl-1">({</span><span class="hl-0">x:</span><span class="hl-1"> </span><span class="hl-7">2</span><span class="hl-1">, </span><span class="hl-0">y:</span><span class="hl-1"> </span><span class="hl-7">2</span><span class="hl-1">}),</span><br/><span class="hl-1">});</span><br/><span class="hl-3">// Initialize with JSON</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-8">s2</span><span class="hl-1"> = </span><span class="hl-0">Segment</span><span class="hl-1">.</span><span class="hl-6">with</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-0">p1:</span><span class="hl-1"> {</span><span class="hl-0">x:</span><span class="hl-1"> </span><span class="hl-7">1</span><span class="hl-1">, </span><span class="hl-0">y:</span><span class="hl-1"> </span><span class="hl-7">1</span><span class="hl-1">},</span><br/><span class="hl-1">  </span><span class="hl-0">p2:</span><span class="hl-1"> {</span><span class="hl-0">x:</span><span class="hl-1"> </span><span class="hl-7">2</span><span class="hl-1">, </span><span class="hl-0">y:</span><span class="hl-1"> </span><span class="hl-7">2</span><span class="hl-1">},</span><br/><span class="hl-1">});</span><br/><span class="hl-3">// Partial update with JSON</span><br/><span class="hl-0">s2</span><span class="hl-1">.</span><span class="hl-6">assignJSON</span><span class="hl-1">({</span><span class="hl-0">p2:</span><span class="hl-1"> {</span><span class="hl-0">x:</span><span class="hl-1"> </span><span class="hl-7">10</span><span class="hl-1">}});</span><br/><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-6">log</span><span class="hl-1">(</span><span class="hl-0">s2</span><span class="hl-1">.</span><span class="hl-6">toJSON</span><span class="hl-1">()); </span><span class="hl-3">// =&gt; {p1: {x: 1, y: 1}, p2: {x: 10, y: 2}}</span>
</code></pre>

<a href="#bitmasks" id="bitmasks" style="color: inherit; text-decoration: none;">
  <h2>Bitmasks</h2>
</a>
<p>serio provides the
<a href="https://jichu4n.github.io/serio/classes/SBitmask.html"><code>SBitmask</code></a> class for
working with bitmask values that represent the binary OR of several fields. The
interface is similar to <code>SObject</code>. Example usage:</p>
<pre><code class="language-ts"><span class="hl-3">/** An 8-bit color in the format RRR GG BB (see</span><br/><span class="hl-3"> * https://en.wikipedia.org/wiki/8-bit_color).</span><br/><span class="hl-3"> *</span><br/><span class="hl-3"> * SBitmask.of(wrapperClass) produces a base class that serializes</span><br/><span class="hl-3"> * to the specified length.</span><br/><span class="hl-3"> */</span><br/><span class="hl-4">class</span><span class="hl-1"> </span><span class="hl-5">Color8Bit</span><span class="hl-1"> </span><span class="hl-4">extends</span><span class="hl-1"> </span><span class="hl-0">SBitmask</span><span class="hl-1">.</span><span class="hl-6">of</span><span class="hl-1">(</span><span class="hl-0">SUInt8</span><span class="hl-1">) {</span><br/><span class="hl-1">  </span><span class="hl-3">// @bitfield(number of bits) is used to annotate the fields that go into the</span><br/><span class="hl-1">  </span><span class="hl-3">// bitmask, from most significant to least significant.</span><br/><span class="hl-1">  @</span><span class="hl-6">bitfield</span><span class="hl-1">(</span><span class="hl-7">3</span><span class="hl-1">)</span><br/><span class="hl-1">  </span><span class="hl-0">r</span><span class="hl-1"> = </span><span class="hl-7">0</span><span class="hl-1">;</span><br/><span class="hl-1">  @</span><span class="hl-6">bitfield</span><span class="hl-1">(</span><span class="hl-7">3</span><span class="hl-1">)</span><br/><span class="hl-1">  </span><span class="hl-0">g</span><span class="hl-1"> = </span><span class="hl-7">0</span><span class="hl-1">;</span><br/><span class="hl-1">  @</span><span class="hl-6">bitfield</span><span class="hl-1">(</span><span class="hl-7">2</span><span class="hl-1">)</span><br/><span class="hl-1">  </span><span class="hl-0">b</span><span class="hl-1"> = </span><span class="hl-7">0</span><span class="hl-1">;</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-8">c1</span><span class="hl-1"> = </span><span class="hl-4">new</span><span class="hl-1"> </span><span class="hl-6">Color8Bit</span><span class="hl-1">();</span><br/><span class="hl-0">c1</span><span class="hl-1">.</span><span class="hl-6">serialize</span><span class="hl-1">(); </span><span class="hl-3">// =&gt; Buffer.of(0b00000000)</span><br/><span class="hl-0">c1</span><span class="hl-1">.</span><span class="hl-0">r</span><span class="hl-1"> = </span><span class="hl-7">0b111</span><span class="hl-1">;</span><br/><span class="hl-0">c1</span><span class="hl-1">.</span><span class="hl-0">g</span><span class="hl-1"> = </span><span class="hl-7">0b001</span><span class="hl-1">;</span><br/><span class="hl-0">c1</span><span class="hl-1">.</span><span class="hl-6">serialize</span><span class="hl-1">(); </span><span class="hl-3">// =&gt; Buffer.of(0b11100100)</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-8">c2</span><span class="hl-1"> = </span><span class="hl-0">Color8Bit</span><span class="hl-1">.</span><span class="hl-6">with</span><span class="hl-1">({</span><span class="hl-0">r:</span><span class="hl-1"> </span><span class="hl-7">0b000</span><span class="hl-1">, </span><span class="hl-0">g:</span><span class="hl-1"> </span><span class="hl-7">0b111</span><span class="hl-1">, </span><span class="hl-0">b:</span><span class="hl-1"> </span><span class="hl-7">0b01</span><span class="hl-1">});</span><br/><span class="hl-0">c2</span><span class="hl-1">.</span><span class="hl-6">serialize</span><span class="hl-1">(); </span><span class="hl-3">// =&gt; Buffer.of(0b00011101)</span><br/><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-6">log</span><span class="hl-1">(</span><span class="hl-0">c2</span><span class="hl-1">.</span><span class="hl-0">value</span><span class="hl-1">); </span><span class="hl-3">// =&gt; 0b00011101</span><br/><span class="hl-0">c2</span><span class="hl-1">.</span><span class="hl-0">value</span><span class="hl-1"> = </span><span class="hl-7">0b11100010</span><span class="hl-1">;</span><br/><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-6">log</span><span class="hl-1">(</span><span class="hl-0">c2</span><span class="hl-1">.</span><span class="hl-6">toJSON</span><span class="hl-1">()); </span><span class="hl-3">// =&gt; {r: 7, g: 0, b: 2}</span><br/><br/><span class="hl-0">c2</span><span class="hl-1">.</span><span class="hl-6">deserialize</span><span class="hl-1">(</span><span class="hl-0">Buffer</span><span class="hl-1">.</span><span class="hl-6">of</span><span class="hl-1">(</span><span class="hl-7">0b11111111</span><span class="hl-1">));</span><br/><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-6">log</span><span class="hl-1">(</span><span class="hl-0">c2</span><span class="hl-1">.</span><span class="hl-6">toJSON</span><span class="hl-1">()); </span><span class="hl-3">// =&gt; {r: 7, g: 7, b: 3}</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-8">c3</span><span class="hl-1"> = </span><span class="hl-0">Color8Bit</span><span class="hl-1">.</span><span class="hl-6">of</span><span class="hl-1">(</span><span class="hl-7">0b11100010</span><span class="hl-1">);</span><br/><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-6">log</span><span class="hl-1">(</span><span class="hl-0">c3</span><span class="hl-1">.</span><span class="hl-6">toJSON</span><span class="hl-1">()); </span><span class="hl-3">// =&gt; {r: 7, g: 0, b: 2}</span>
</code></pre>
<p>Boolean flags are also supported:</p>
<pre><code class="language-ts"><span class="hl-4">class</span><span class="hl-1"> </span><span class="hl-5">MyBitmask</span><span class="hl-1"> </span><span class="hl-4">extends</span><span class="hl-1"> </span><span class="hl-0">SBitmask</span><span class="hl-1">.</span><span class="hl-6">of</span><span class="hl-1">(</span><span class="hl-0">SUInt8</span><span class="hl-1">) {</span><br/><span class="hl-1">  @</span><span class="hl-6">bitfield</span><span class="hl-1">(</span><span class="hl-7">1</span><span class="hl-1">)</span><br/><span class="hl-1">  </span><span class="hl-0">flag1</span><span class="hl-1"> = </span><span class="hl-4">false</span><span class="hl-1">;</span><br/><span class="hl-1">  @</span><span class="hl-6">bitfield</span><span class="hl-1">(</span><span class="hl-7">2</span><span class="hl-1">)</span><br/><span class="hl-1">  </span><span class="hl-0">flag2</span><span class="hl-1"> = </span><span class="hl-4">false</span><span class="hl-1">;</span><br/><span class="hl-1">  @</span><span class="hl-6">bitfield</span><span class="hl-1">(</span><span class="hl-7">6</span><span class="hl-1">)</span><br/><span class="hl-1">  @</span><span class="hl-6">json</span><span class="hl-1">(</span><span class="hl-4">false</span><span class="hl-1">) </span><span class="hl-3">// Exclude from JSON output</span><br/><span class="hl-1">  </span><span class="hl-0">unused</span><span class="hl-1"> = </span><span class="hl-7">0</span><span class="hl-1">;</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-8">bm1</span><span class="hl-1"> = </span><span class="hl-0">MyBitmask</span><span class="hl-1">.</span><span class="hl-6">of</span><span class="hl-1">(</span><span class="hl-7">0b11000000</span><span class="hl-1">);</span><br/><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-6">log</span><span class="hl-1">(</span><span class="hl-0">bm1</span><span class="hl-1">.</span><span class="hl-6">toJSON</span><span class="hl-1">()); </span><span class="hl-3">// =&gt; {flag1: true, flag2: true}</span><br/><span class="hl-0">bm1</span><span class="hl-1">.</span><span class="hl-0">flag1</span><span class="hl-1"> = </span><span class="hl-4">false</span><span class="hl-1">;</span><br/><span class="hl-0">bm1</span><span class="hl-1">.</span><span class="hl-6">serialize</span><span class="hl-1">(); </span><span class="hl-3">// =&gt; Buffer.of(0b01000000)</span>
</code></pre>
<p>Similar to <code>@field()</code>, you can also use <code>@bitfield()</code> with getters / setters, but you should avoid using <code>@bitfield()</code> with both getters / setters and regular properties in the same class.</p>

<a href="#creating-new-serializable-classes" id="creating-new-serializable-classes" style="color: inherit; text-decoration: none;">
  <h2>Creating new <code>Serializable</code> classes</h2>
</a>
<p>To define your own <code>Serializable</code> classes that can be used with <code>SArray</code>, <code>SObject</code>
etc, you can extend the
<a href="https://jichu4n.github.io/serio/classes/Serializable.html"><code>Serializable</code></a>
abstract class and provide the required method implementations:</p>
<pre><code class="language-ts"><span class="hl-4">class</span><span class="hl-1"> </span><span class="hl-5">MyType</span><span class="hl-1"> </span><span class="hl-4">extends</span><span class="hl-1"> </span><span class="hl-5">Serializable</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-0">x</span><span class="hl-1"> = </span><span class="hl-7">0</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-0">name</span><span class="hl-1"> = </span><span class="hl-0">SStringNT</span><span class="hl-1">.</span><span class="hl-6">ofLength</span><span class="hl-1">(</span><span class="hl-7">32</span><span class="hl-1">);</span><br/><br/><span class="hl-1">  </span><span class="hl-3">/** Serializes this value into a buffer. */</span><br/><span class="hl-1">  </span><span class="hl-6">serialize</span><span class="hl-1">(</span><span class="hl-0">opts</span><span class="hl-1">?: </span><span class="hl-5">SerializeOptions</span><span class="hl-1">): </span><span class="hl-5">Buffer</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-8">buffer</span><span class="hl-1"> = </span><span class="hl-0">Buffer</span><span class="hl-1">.</span><span class="hl-6">alloc</span><span class="hl-1">(</span><span class="hl-4">this</span><span class="hl-1">.</span><span class="hl-6">getSerializedLength</span><span class="hl-1">(</span><span class="hl-0">opts</span><span class="hl-1">));</span><br/><span class="hl-1">    </span><span class="hl-0">buffer</span><span class="hl-1">.</span><span class="hl-6">writeUInt8</span><span class="hl-1">(</span><span class="hl-4">this</span><span class="hl-1">.</span><span class="hl-0">x</span><span class="hl-1">, </span><span class="hl-7">0</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-4">this</span><span class="hl-1">.</span><span class="hl-0">name</span><span class="hl-1">.</span><span class="hl-6">serialize</span><span class="hl-1">(</span><span class="hl-0">opts</span><span class="hl-1">).</span><span class="hl-6">copy</span><span class="hl-1">(</span><span class="hl-0">buffer</span><span class="hl-1">, </span><span class="hl-7">1</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-2">return</span><span class="hl-1"> </span><span class="hl-0">buffer</span><span class="hl-1">;</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">  </span><span class="hl-3">/** Deserializes a buffer into this value. */</span><br/><span class="hl-1">  </span><span class="hl-6">deserialize</span><span class="hl-1">(</span><span class="hl-0">buffer</span><span class="hl-1">: </span><span class="hl-5">Buffer</span><span class="hl-1">, </span><span class="hl-0">opts</span><span class="hl-1">?: </span><span class="hl-5">DeserializeOptions</span><span class="hl-1">): </span><span class="hl-5">number</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-4">this</span><span class="hl-1">.</span><span class="hl-0">x</span><span class="hl-1"> = </span><span class="hl-0">buffer</span><span class="hl-1">.</span><span class="hl-6">readUInt8</span><span class="hl-1">(</span><span class="hl-7">0</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-4">this</span><span class="hl-1">.</span><span class="hl-0">name</span><span class="hl-1">.</span><span class="hl-6">deserialize</span><span class="hl-1">(</span><span class="hl-0">buffer</span><span class="hl-1">.</span><span class="hl-6">subarray</span><span class="hl-1">(</span><span class="hl-7">1</span><span class="hl-1">), </span><span class="hl-0">opts</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-2">return</span><span class="hl-1"> </span><span class="hl-4">this</span><span class="hl-1">.</span><span class="hl-6">getSerializedLength</span><span class="hl-1">(</span><span class="hl-0">opts</span><span class="hl-1">);</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">  </span><span class="hl-3">/** Computes the serialized length of this value. */</span><br/><span class="hl-1">  </span><span class="hl-6">getSerializedLength</span><span class="hl-1">(</span><span class="hl-0">opts</span><span class="hl-1">?: </span><span class="hl-5">SerializeOptions</span><span class="hl-1">): </span><span class="hl-5">number</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-2">return</span><span class="hl-1"> </span><span class="hl-7">1</span><span class="hl-1"> + </span><span class="hl-4">this</span><span class="hl-1">.</span><span class="hl-0">name</span><span class="hl-1">.</span><span class="hl-6">getSerializedLength</span><span class="hl-1">(</span><span class="hl-0">opts</span><span class="hl-1">);</span><br/><span class="hl-1">  }</span><br/><br/><span class="hl-1">  </span><span class="hl-3">/** Optionally, define how this class should be JSONified. */</span><br/><span class="hl-1">  </span><span class="hl-6">toJSON</span><span class="hl-1">() {</span><br/><span class="hl-1">    </span><span class="hl-2">return</span><span class="hl-1"> {</span><span class="hl-0">x:</span><span class="hl-1"> </span><span class="hl-4">this</span><span class="hl-1">.</span><span class="hl-0">x</span><span class="hl-1">, </span><span class="hl-0">name:</span><span class="hl-1"> </span><span class="hl-4">this</span><span class="hl-1">.</span><span class="hl-0">name</span><span class="hl-1">};</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-3">// MyType can be constructed like other `Serializable`s:</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-8">obj1</span><span class="hl-1"> = </span><span class="hl-4">new</span><span class="hl-1"> </span><span class="hl-6">MyType</span><span class="hl-1">();</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-8">obj2</span><span class="hl-1"> = </span><span class="hl-0">MyType</span><span class="hl-1">.</span><span class="hl-6">from</span><span class="hl-1">(</span><span class="hl-0">buffer</span><span class="hl-1">);</span><br/><br/><span class="hl-3">// MyType can be used together with SArray, SObject etc:</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-8">arr1</span><span class="hl-1"> = </span><span class="hl-0">SArray</span><span class="hl-1">.</span><span class="hl-6">of</span><span class="hl-1">([</span><span class="hl-4">new</span><span class="hl-1"> </span><span class="hl-6">MyType</span><span class="hl-1">(), </span><span class="hl-4">new</span><span class="hl-1"> </span><span class="hl-6">MyType</span><span class="hl-1">()]);</span><br/><span class="hl-4">class</span><span class="hl-1"> </span><span class="hl-5">SomeObject</span><span class="hl-1"> </span><span class="hl-4">extends</span><span class="hl-1"> </span><span class="hl-5">SObject</span><span class="hl-1"> {</span><br/><span class="hl-1">  @</span><span class="hl-6">field</span><span class="hl-1">()</span><br/><span class="hl-1">  </span><span class="hl-0">myType</span><span class="hl-1"> = </span><span class="hl-4">new</span><span class="hl-1"> </span><span class="hl-6">MyType</span><span class="hl-1">();</span><br/><span class="hl-1">}</span>
</code></pre>
<p>To define a class that wraps a raw value, to be used with <code>@field()</code> and
<code>SArray.of()</code>, you can instead extend the
<a href="https://jichu4n.github.io/serio/classes/SerializableWrapper.html"><code>SerializableWrapper</code></a>
class:</p>
<pre><code class="language-ts"><span class="hl-3">/** An example class that wraps a number. */</span><br/><span class="hl-4">class</span><span class="hl-1"> </span><span class="hl-5">MyWrapperType</span><span class="hl-1"> </span><span class="hl-4">extends</span><span class="hl-1"> </span><span class="hl-5">SerializableWrapper</span><span class="hl-1">&lt;</span><span class="hl-5">number</span><span class="hl-1">&gt; {</span><br/><span class="hl-1">  </span><span class="hl-3">// A SerializableWrapper must have a `value` property that represents the raw</span><br/><span class="hl-1">  </span><span class="hl-3">// value to be wrapped.</span><br/><span class="hl-1">  </span><span class="hl-0">value</span><span class="hl-1"> = </span><span class="hl-7">0</span><span class="hl-1">;</span><br/><br/><span class="hl-1">  </span><span class="hl-3">// Define `serialize()`, `deserialize()` and `getSerializedLength()` as above</span><br/><span class="hl-1">  </span><span class="hl-6">serialize</span><span class="hl-1">(</span><span class="hl-0">opts</span><span class="hl-1">?: </span><span class="hl-5">SerializeOptions</span><span class="hl-1">): </span><span class="hl-5">Buffer</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-3">/* ... */</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">  </span><span class="hl-6">deserialize</span><span class="hl-1">(</span><span class="hl-0">buffer</span><span class="hl-1">: </span><span class="hl-5">Buffer</span><span class="hl-1">, </span><span class="hl-0">opts</span><span class="hl-1">?: </span><span class="hl-5">DeserializeOptions</span><span class="hl-1">): </span><span class="hl-5">number</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-3">/* ... */</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">  </span><span class="hl-6">getSerializedLength</span><span class="hl-1">(</span><span class="hl-0">opts</span><span class="hl-1">?: </span><span class="hl-5">SerializeOptions</span><span class="hl-1">): </span><span class="hl-5">number</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-3">/* ... */</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-3">// MyWrapperType can be constructed similar to other wrappers such as `SInt8`:</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-8">obj1</span><span class="hl-1"> = </span><span class="hl-4">new</span><span class="hl-1"> </span><span class="hl-6">MyWrapperType</span><span class="hl-1">();</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-8">obj2</span><span class="hl-1"> = </span><span class="hl-0">MyWrapperType</span><span class="hl-1">.</span><span class="hl-6">from</span><span class="hl-1">(</span><span class="hl-0">buffer</span><span class="hl-1">);</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-8">obj3</span><span class="hl-1"> = </span><span class="hl-0">MyWrapperType</span><span class="hl-1">.</span><span class="hl-6">of</span><span class="hl-1">(</span><span class="hl-7">42</span><span class="hl-1">);</span><br/><br/><span class="hl-3">// MyWrapperType can be used with `SArray.of()` and `@field()`:</span><br/><span class="hl-4">const</span><span class="hl-1"> </span><span class="hl-8">arr1</span><span class="hl-1"> = </span><span class="hl-0">SArray</span><span class="hl-1">.</span><span class="hl-6">of</span><span class="hl-1">(</span><span class="hl-0">MyWrapperType</span><span class="hl-1">).</span><span class="hl-6">of</span><span class="hl-1">([</span><span class="hl-7">1</span><span class="hl-1">, </span><span class="hl-7">2</span><span class="hl-1">, </span><span class="hl-7">3</span><span class="hl-1">]);</span><br/><span class="hl-4">class</span><span class="hl-1"> </span><span class="hl-5">SomeObject</span><span class="hl-1"> </span><span class="hl-4">extends</span><span class="hl-1"> </span><span class="hl-5">SObject</span><span class="hl-1"> {</span><br/><span class="hl-1">  @</span><span class="hl-6">field</span><span class="hl-1">(</span><span class="hl-0">MyWrapperType</span><span class="hl-1">)</span><br/><span class="hl-1">  </span><span class="hl-0">foo</span><span class="hl-1">: </span><span class="hl-5">number</span><span class="hl-1"> = </span><span class="hl-7">0</span><span class="hl-1">;</span><br/><span class="hl-1">}</span>
</code></pre>

<a href="#about" id="about" style="color: inherit; text-decoration: none;">
  <h2>About</h2>
</a>
<p>serio is distributed under the Apache License v2.</p>

<a href="#changelog" id="changelog" style="color: inherit; text-decoration: none;">
  <h2>Changelog</h2>
</a>

<a href="#200" id="200" style="color: inherit; text-decoration: none;">
  <h3>2.0.0</h3>
</a>
<ul>
<li>Introduce <code>assignJSON()</code> to most <code>Serializable</code> classes. This greatly simplies
the construction of nested <code>SObject</code>, <code>SArray</code> and other serializable values.<ul>
<li><code>SObject.with()</code> now take advantages of <code>assignJSON()</code>, allowing inline
construction of nested <code>SObject</code>s through JSON or raw JS values.</li>
</ul>
</li>
<li>Introduce the <code>@json(boolean)</code> decorator to simplify customization of JSON
output on <code>SObject</code> and <code>SBitmask</code> objects.</li>
<li><strong>Breaking change</strong>: <code>SObject.assignFromSerializable()</code> has been renamed to
<code>SObject.assignSerializableMap()</code> for consistency with <code>assignJSON()</code>, and
passing in unknown properties in the argument will now throw an error instead
of being silently ignored.</li>
<li><strong>Breaking change</strong>: <code>SObject.mapValuesToSerializable()</code> has been renamed to
<code>SObject.toSerializableMap()</code> for consistency with <code>toJSON()</code>.</li>
<li><strong>Breaking change</strong>: <code>SBitmask.toJSON()</code> previously only returned fields
decorated with <code>@bitfield()</code>. Its behavior has been updated to be consistent
with <code>SObject.toJSON()</code>: it now returns all properties on the object, with
support for field-level control with <code>@json(boolean)</code>.</li>
</ul>
</div></div>
<div class="col-4 col-menu menu-sticky-wrap menu-highlight">
<div class="tsd-navigation settings">
<details class="tsd-index-accordion"><summary class="tsd-accordion-summary">
<h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><path d="M4.93896 8.531L12 15.591L19.061 8.531L16.939 6.409L12 11.349L7.06098 6.409L4.93896 8.531Z" fill="var(--color-text)"></path></svg> Settings</h3></summary>
<div class="tsd-accordion-details">
<div class="tsd-filter-visibility">
<h4 class="uppercase">Member Visibility</h4><form>
<ul id="tsd-filter-options">
<li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li>
<li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li>
<li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></form></div>
<div class="tsd-theme-toggle">
<h4 class="uppercase">Theme</h4><select id="theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div>
<nav class="tsd-navigation primary">
<details class="tsd-index-accordion" open><summary class="tsd-accordion-summary">
<h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><path d="M4.93896 8.531L12 15.591L19.061 8.531L16.939 6.409L12 11.349L7.06098 6.409L4.93896 8.531Z" fill="var(--color-text)"></path></svg> Modules</h3></summary>
<div class="tsd-accordion-details">
<ul>
<li class="current selected"><a href="modules.html">serio</a>
<ul></ul></li></ul></div></details></nav>
<nav class="tsd-navigation secondary menu-sticky">
<ul>
<li class="tsd-kind-class"><a href="classes/SArray.html" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><rect fill="var(--color-icon-background)" stroke="var(--color-ts-class)" stroke-width="1.5" x="1" y="1" width="22" height="22" rx="6" id="icon-128-path"></rect><path d="M11.898 16.1201C11.098 16.1201 10.466 15.8961 10.002 15.4481C9.53803 15.0001 9.30603 14.3841 9.30603 13.6001V9.64012C9.30603 8.85612 9.53803 8.24012 10.002 7.79212C10.466 7.34412 11.098 7.12012 11.898 7.12012C12.682 7.12012 13.306 7.34812 13.77 7.80412C14.234 8.25212 14.466 8.86412 14.466 9.64012H13.386C13.386 9.14412 13.254 8.76412 12.99 8.50012C12.734 8.22812 12.37 8.09212 11.898 8.09212C11.426 8.09212 11.054 8.22412 10.782 8.48812C10.518 8.75212 10.386 9.13212 10.386 9.62812V13.6001C10.386 14.0961 10.518 14.4801 10.782 14.7521C11.054 15.0161 11.426 15.1481 11.898 15.1481C12.37 15.1481 12.734 15.0161 12.99 14.7521C13.254 14.4801 13.386 14.0961 13.386 13.6001H14.466C14.466 14.3761 14.234 14.9921 13.77 15.4481C13.306 15.8961 12.682 16.1201 11.898 16.1201Z" fill="var(--color-text)" id="icon-128-text"></path></svg>SArray</a></li>
<li class="tsd-kind-class"><a href="classes/SArrayError.html" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-128-path"></use><use href="#icon-128-text"></use></svg>SArray<wbr/>Error</a></li>
<li class="tsd-kind-class"><a href="classes/SArrayWithWrapper.html" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-128-path"></use><use href="#icon-128-text"></use></svg>SArray<wbr/>With<wbr/>Wrapper</a></li>
<li class="tsd-kind-class"><a href="classes/SBitmask.html" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-128-path"></use><use href="#icon-128-text"></use></svg>SBitmask</a></li>
<li class="tsd-kind-class"><a href="classes/SBuffer.html" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-128-path"></use><use href="#icon-128-text"></use></svg>SBuffer</a></li>
<li class="tsd-kind-class"><a href="classes/SDynamicBuffer.html" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-128-path"></use><use href="#icon-128-text"></use></svg>SDynamic<wbr/>Buffer</a></li>
<li class="tsd-kind-class"><a href="classes/SInt16BE.html" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-128-path"></use><use href="#icon-128-text"></use></svg>SInt16BE</a></li>
<li class="tsd-kind-class"><a href="classes/SInt16LE.html" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-128-path"></use><use href="#icon-128-text"></use></svg>SInt16LE</a></li>
<li class="tsd-kind-class"><a href="classes/SInt32BE.html" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-128-path"></use><use href="#icon-128-text"></use></svg>SInt32BE</a></li>
<li class="tsd-kind-class"><a href="classes/SInt32LE.html" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-128-path"></use><use href="#icon-128-text"></use></svg>SInt32LE</a></li>
<li class="tsd-kind-class"><a href="classes/SInt8.html" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-128-path"></use><use href="#icon-128-text"></use></svg>SInt8</a></li>
<li class="tsd-kind-class"><a href="classes/SObject.html" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-128-path"></use><use href="#icon-128-text"></use></svg>SObject</a></li>
<li class="tsd-kind-class"><a href="classes/SObjectError.html" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-128-path"></use><use href="#icon-128-text"></use></svg>SObject<wbr/>Error</a></li>
<li class="tsd-kind-class"><a href="classes/SString.html" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-128-path"></use><use href="#icon-128-text"></use></svg>SString</a></li>
<li class="tsd-kind-class"><a href="classes/SStringNT.html" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-128-path"></use><use href="#icon-128-text"></use></svg>SStringNT</a></li>
<li class="tsd-kind-class"><a href="classes/SUInt16BE.html" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-128-path"></use><use href="#icon-128-text"></use></svg>SUInt16BE</a></li>
<li class="tsd-kind-class"><a href="classes/SUInt16LE.html" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-128-path"></use><use href="#icon-128-text"></use></svg>SUInt16LE</a></li>
<li class="tsd-kind-class"><a href="classes/SUInt32BE.html" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-128-path"></use><use href="#icon-128-text"></use></svg>SUInt32BE</a></li>
<li class="tsd-kind-class"><a href="classes/SUInt32LE.html" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-128-path"></use><use href="#icon-128-text"></use></svg>SUInt32LE</a></li>
<li class="tsd-kind-class"><a href="classes/SUInt8.html" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-128-path"></use><use href="#icon-128-text"></use></svg>SUInt8</a></li>
<li class="tsd-kind-class"><a href="classes/Serializable.html" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-128-path"></use><use href="#icon-128-text"></use></svg>Serializable</a></li>
<li class="tsd-kind-class"><a href="classes/SerializableWrapper.html" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-128-path"></use><use href="#icon-128-text"></use></svg>Serializable<wbr/>Wrapper</a></li>
<li class="tsd-kind-interface"><a href="interfaces/DeserializeOptions.html" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><rect fill="var(--color-icon-background)" stroke="var(--color-ts-interface)" stroke-width="1.5" x="1" y="1" width="22" height="22" rx="6" id="icon-256-path"></rect><path d="M9.51 16V15.016H11.298V8.224H9.51V7.24H14.19V8.224H12.402V15.016H14.19V16H9.51Z" fill="var(--color-text)" id="icon-256-text"></path></svg>Deserialize<wbr/>Options</a></li>
<li class="tsd-kind-interface"><a href="interfaces/SerializeOptions.html" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-256-path"></use><use href="#icon-256-text"></use></svg>Serialize<wbr/>Options</a></li>
<li class="tsd-kind-type-alias"><a href="types/WrappedValueT.html" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><rect fill="var(--color-icon-background)" stroke="var(--color-ts)" stroke-width="1.5" x="1" y="1" width="22" height="22" rx="6" id="icon-4194304-path"></rect><path d="M11.31 16V8.224H8.91V7.24H14.79V8.224H12.39V16H11.31Z" fill="var(--color-text)" id="icon-4194304-text"></path></svg>Wrapped<wbr/>ValueT</a></li>
<li class="tsd-kind-function"><a href="functions/bitfield.html" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><rect fill="var(--color-icon-background)" stroke="var(--color-ts-function)" stroke-width="1.5" x="1" y="1" width="22" height="22" rx="6" id="icon-64-path"></rect><path d="M9.39 16V7.24H14.55V8.224H10.446V11.128H14.238V12.112H10.47V16H9.39Z" fill="var(--color-text)" id="icon-64-text"></path></svg>bitfield</a></li>
<li class="tsd-kind-function"><a href="functions/createSerializableScalarWrapperClass.html" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-64-path"></use><use href="#icon-64-text"></use></svg>create<wbr/>Serializable<wbr/>Scalar<wbr/>Wrapper<wbr/>Class</a></li>
<li class="tsd-kind-function"><a href="functions/decodeString.html" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-64-path"></use><use href="#icon-64-text"></use></svg>decode<wbr/>String</a></li>
<li class="tsd-kind-function"><a href="functions/encodeString.html" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-64-path"></use><use href="#icon-64-text"></use></svg>encode<wbr/>String</a></li>
<li class="tsd-kind-function"><a href="functions/field.html" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-64-path"></use><use href="#icon-64-text"></use></svg>field</a></li>
<li class="tsd-kind-function"><a href="functions/getDefaultEncoding.html" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-64-path"></use><use href="#icon-64-text"></use></svg>get<wbr/>Default<wbr/>Encoding</a></li>
<li class="tsd-kind-function"><a href="functions/json.html" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-64-path"></use><use href="#icon-64-text"></use></svg>json</a></li>
<li class="tsd-kind-function"><a href="functions/setDefaultEncoding.html" class="tsd-index-link"><svg class="tsd-kind-icon" width="24" height="24" viewBox="0 0 24 24"><use href="#icon-64-path"></use><use href="#icon-64-text"></use></svg>set<wbr/>Default<wbr/>Encoding</a></li></ul></nav></div></div>
<div class="container tsd-generator">
<p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></div>
<div class="overlay"></div><script src="assets/main.js"></script></body></html>